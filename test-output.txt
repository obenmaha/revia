
> revia@0.0.2 test
> vitest


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mD:/Projets/revia[39m

[90mstdout[2m | src/__tests__/integration/sport-export.test.tsx
[22m[39mðŸ”„ Utilisation des variables d'environnement Vite
Configuration de l'environnement: {
  app: {
    name: [32m'App-Kine'[39m,
    version: [32m'1.0.0'[39m,
    debug: [33mtrue[39m,
    logLevel: [32m'debug'[39m
  },
  api: {
    baseUrl: [32m'https://mock.supabase.co'[39m,
    anonKey: [32m'mock-anon-key'[39m,
    serviceRoleKey: [32m''[39m,
    timeout: [33m10000[39m
  },
  supabase: {
    url: [32m'https://mock.supabase.co'[39m,
    anonKey: [32m'mock-anon-key'[39m,
    serviceRoleKey: [32m''[39m
  },
  services: {
    email: [32m'https://api.emailservice.com'[39m,
    sms: [32m'https://api.smsservice.com'[39m
  }
}
âœ… Configuration des variables d'environnement valide

 [31mâ¯[39m src/__tests__/integration/sport-export.test.tsx [2m([22m[2m17 tests[22m[2m | [22m[31m15 failed[39m[2m)[22m[33m 140301[2mms[22m[39m
[31m   [31mÃ—[31m Tests d'intÃ©gration - Exports Sport[2m > [22mExport CSV - IntÃ©gration complÃ¨te[2m > [22mdevrait exporter les donnÃ©es CSV avec succÃ¨s[39m[33m 10022[2mms[22m[39m
[31m     â†’ Test timed out in 10000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m   [31mÃ—[31m Tests d'intÃ©gration - Exports Sport[2m > [22mExport CSV - IntÃ©gration complÃ¨te[2m > [22mdevrait gÃ©rer les erreurs d'export CSV[39m[33m 10010[2mms[22m[39m
[31m     â†’ Test timed out in 10000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m   [31mÃ—[31m Tests d'intÃ©gration - Exports Sport[2m > [22mExport CSV - IntÃ©gration complÃ¨te[2m > [22mdevrait valider les donnÃ©es avant export[39m[33m 10006[2mms[22m[39m
[31m     â†’ Test timed out in 10000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m   [31mÃ—[31m Tests d'intÃ©gration - Exports Sport[2m > [22mExport CSV - IntÃ©gration complÃ¨te[2m > [22mdevrait nettoyer les donnÃ©es sensibles avant export[39m[33m 10021[2mms[22m[39m
[31m     â†’ Test timed out in 10000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m   [31mÃ—[31m Tests d'intÃ©gration - Exports Sport[2m > [22mExport PDF - IntÃ©gration complÃ¨te[2m > [22mdevrait exporter les donnÃ©es PDF avec succÃ¨s[39m[33m 10007[2mms[22m[39m
[31m     â†’ Test timed out in 10000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m   [31mÃ—[31m Tests d'intÃ©gration - Exports Sport[2m > [22mExport PDF - IntÃ©gration complÃ¨te[2m > [22mdevrait gÃ©rer les erreurs d'export PDF[39m[33m 10016[2mms[22m[39m
[31m     â†’ Test timed out in 10000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m   [31mÃ—[31m Tests d'intÃ©gration - Exports Sport[2m > [22mExport PDF - IntÃ©gration complÃ¨te[2m > [22mdevrait gÃ©nÃ©rer un PDF avec les mÃ©tadonnÃ©es appropriÃ©es[39m[33m 10015[2mms[22m[39m
[31m     â†’ Test timed out in 10000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
   [32mâœ“[39m Tests d'intÃ©gration - Exports Sport[2m > [22mModal d'export - IntÃ©gration complÃ¨te[2m > [22mdevrait afficher la modal d'export correctement[32m 36[2mms[22m[39m
[31m   [31mÃ—[31m Tests d'intÃ©gration - Exports Sport[2m > [22mModal d'export - IntÃ©gration complÃ¨te[2m > [22mdevrait gÃ©rer la sÃ©lection du format d'export[39m[32m 26[2mms[22m[39m
[31m     â†’ expected "spy" to be called with arguments: [ 'csv' ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[32m-   "csv",[90m
[31m+   {[90m
[31m+     "format": "csv",[90m
[31m+     "period": "month",[90m
[31m+   },[90m
[2m  ][22m
[31m[90m

Number of calls: [1m1[22m
[31m[39m
   [32mâœ“[39m Tests d'intÃ©gration - Exports Sport[2m > [22mModal d'export - IntÃ©gration complÃ¨te[2m > [22mdevrait fermer la modal correctement[32m 19[2mms[22m[39m
[31m   [31mÃ—[31m Tests d'intÃ©gration - Exports Sport[2m > [22mIntÃ©gration avec Supabase[2m > [22mdevrait rÃ©cupÃ©rer les donnÃ©es de session depuis Supabase[39m[33m 10011[2mms[22m[39m
[31m     â†’ Test timed out in 10000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m   [31mÃ—[31m Tests d'intÃ©gration - Exports Sport[2m > [22mIntÃ©gration avec Supabase[2m > [22mdevrait appliquer les filtres de pÃ©riode correctement[39m[33m 10019[2mms[22m[39m
[31m     â†’ Test timed out in 10000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m   [31mÃ—[31m Tests d'intÃ©gration - Exports Sport[2m > [22mIntÃ©gration avec Supabase[2m > [22mdevrait gÃ©rer les erreurs de rÃ©cupÃ©ration des donnÃ©es[39m[33m 10017[2mms[22m[39m
[31m     â†’ Test timed out in 10000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m   [31mÃ—[31m Tests d'intÃ©gration - Exports Sport[2m > [22mPerformance et optimisation[2m > [22mdevrait gÃ©rer les exports de grandes quantitÃ©s de donnÃ©es[39m[33m 10014[2mms[22m[39m
[31m     â†’ Test timed out in 10000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m   [31mÃ—[31m Tests d'intÃ©gration - Exports Sport[2m > [22mPerformance et optimisation[2m > [22mdevrait optimiser les requÃªtes Supabase[39m[33m 10026[2mms[22m[39m
[31m     â†’ Test timed out in 10000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m   [31mÃ—[31m Tests d'intÃ©gration - Exports Sport[2m > [22mSÃ©curitÃ© et conformitÃ© RGPD[2m > [22mdevrait nettoyer les donnÃ©es sensibles avant export[39m[33m 10022[2mms[22m[39m
[31m     â†’ Test timed out in 10000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m   [31mÃ—[31m Tests d'intÃ©gration - Exports Sport[2m > [22mSÃ©curitÃ© et conformitÃ© RGPD[2m > [22mdevrait inclure les mentions lÃ©gales dans les exports[39m[33m 10009[2mms[22m[39m
[31m     â†’ Test timed out in 10000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
